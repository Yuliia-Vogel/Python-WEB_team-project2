{% extends 'base.html' %} {% block content %}

<!-- Combined Search and Birthday Filter Form -->
<form
    class="note-search"
    role="search"
    method="GET"
    action="{% url 'contacts:contact-list' %}">

    <div role="group" class="form-group">
    <input name="q" type="search" placeholder="–®—É–∫–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∏ ({{ contacts|length }})" value="{{ request.GET.query }}"/>
    
    <input
    type="number"
    class="form-control"
    style="width: 10%;"
    name="days_ahead"
    placeholder="üéÇ"
    value="{{ request.GET.days_ahead }}"
    min="0"
    />
    <input type="submit" value="–ü–æ—à—É–∫" />
      
    </div>

</form>

<div class="contact-btn-container">
    <a role="button" href="{% url 'contacts:contact-create' %}" class="contact-add-btn">–î–æ–¥–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç</a>
</div>

<table>
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Phone</th>
      <th scope="col">Address</th>
      <th scope="col">Birthday</th>
    </tr>
  </thead>
  <tbody>
    {% for contact in contacts %}
    <tr
      onclick="window.location.href='{% url 'contacts:contact-detail' contact.pk %}'"
      style="cursor: pointer"
    >
      <td>{{ contact.first_name }} {{ contact.last_name }}</td>
      <td>{% if contact.phone %} {{ contact.phone }} {% endif %}</td>
      <td>{% if contact.address %} {{ contact.address }} {% endif %}</td>
      <td>{% if contact.birthday %} {{ contact.birthday }} {% endif %}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4" class="text-center">–ù–µ–º–∞—î –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>


<!-- Display Filter Message -->
{% if request.GET.days_ahead %}
<div class="alert alert-info mt-3">
  –ü–æ–∫–∞–∑–∞–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–∏ –∑ –¥–Ω—è–º–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ {{ request.GET.days_ahead }} –¥–Ω—ñ–≤.
</div>
{% endif %} {% endblock %}
